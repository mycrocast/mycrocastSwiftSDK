<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Example App LiveStreamCell  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="Example App LiveStreamCell  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">MycrocastSDK Docs</a> (71% documented)</p>
        <div class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">MycrocastSDK Reference</a>
        <img id="carat" src="img/carat.png" alt=""/>
        Example App LiveStreamCell  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Documentation.html">Documentation</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="overview.html">Overview</a>
              </li>
              <li class="nav-group-task">
                <a href="getting-started.html">Getting started</a>
              </li>
              <li class="nav-group-task">
                <a href="connecting-to-a-live-stream.html">Connecting to a live stream</a>
              </li>
              <li class="nav-group-task">
                <a href="what-is-a-livestream.html">What is a LiveStream</a>
              </li>
              <li class="nav-group-task">
                <a href="mycrocast---entry.html">Mycrocast - Entry</a>
              </li>
              <li class="nav-group-task">
                <a href="advertisement.html">Advertisement</a>
              </li>
              <li class="nav-group-task">
                <a href="how-to-chat.html">How to Chat</a>
              </li>
              <li class="nav-group-task">
                <a href="errors.html">Errors</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Example.html">Example</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="example-app-overview.html">Example App Overview</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app--audiosession---handling-a-stream.html">Example App  AudioSession - Handling a Stream</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app-playing-the-audio.html">Example App playing the audio</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app-livestreamcell.html">Example App LiveStreamCell</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app---advertisementbanner.html">Example App - AdvertisementBanner</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app---streamerview.html">Example App - StreamerView</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app---chat.html">Example App - Chat</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app-viewcontroller.html">Example App ViewController</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Classes.html">Other Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Other%20Classes.html#/s:12MycrocastSDK18AudioPackageBufferC">AudioPackageBuffer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DelayTimeContainer.html">DelayTimeContainer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LiveScoringStream.html">LiveScoringStream</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LiveStream.html">LiveStream</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Mycrocast.html">Mycrocast</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MycrocastAdvertisement.html">MycrocastAdvertisement</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MycrocastAssetProvider.html">MycrocastAssetProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MycrocastError.html">MycrocastError</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Streamer.html">Streamer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Enums.html">Other Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/ChatStatus.html">ChatStatus</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ErrorType.html">ErrorType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/RatingError.html">RatingError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ReportReason.html">ReportReason</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Sender.html">Sender</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SessionState.html">SessionState</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/UserStreamRating.html">UserStreamRating</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Other%20Extensions.html#/AppKit">AppKit</a>
              </li>
              <li class="nav-group-task">
                <a href="Other%20Extensions.html#/DecodableDefault">DecodableDefault</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/AdvertisementDelegate.html">AdvertisementDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Advertisements.html">Advertisements</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Chat.html">Chat</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ChatDelegate.html">ChatDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ErrorReceiving.html">ErrorReceiving</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Rating.html">Rating</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SessionControl.html">SessionControl</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/StreamSessionDelegate.html">StreamSessionDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Streams.html">Streams</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/StreamsDelegate.html">StreamsDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Structs.html">Other Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/Message.html">Message</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/StreamLanguage.html">StreamLanguage</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Team.html">Team</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='ios-livestreamcell' class='heading'>iOS LiveStreamCell</h1>

<p>This visual element represents a single live stream.</p>

<p>You can play/pause the stream from here and move to the details view of the stream.</p>

<p>For each stream a cell is created or removed again.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>
<span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">MycrocastSDK</span>

<span class="cm">/**
 This view element represents a single live stream for a single streamer that is currently online from your club
 This is used in the overview stackview showing all currently available streams.

 Hitting the play button will start the connection process to the stream, selecting any other place will navigate to
 the details view of this stream
 */</span>
<span class="kd">class</span> <span class="kt">LiveStreamCell</span><span class="p">:</span> <span class="kt">UIView</span> <span class="p">{</span>

    <span class="kd">private</span> <span class="k">let</span> <span class="nv">mainSpacing</span><span class="p">:</span> <span class="kt">CGFloat</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="kd">private</span> <span class="k">let</span> <span class="nv">logo</span><span class="p">:</span> <span class="kt">UIImageView</span> <span class="o">=</span> <span class="kt">UIImageView</span><span class="p">()</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">UILabel</span> <span class="o">=</span> <span class="kt">UILabel</span><span class="p">()</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">streamDescription</span><span class="p">:</span> <span class="kt">UILabel</span> <span class="o">=</span> <span class="kt">UILabel</span><span class="p">()</span>

    <span class="kd">private</span> <span class="k">let</span> <span class="nv">listener</span><span class="p">:</span> <span class="kt">LabelWithHint</span> <span class="o">=</span> <span class="kt">LabelWithHint</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">genre</span><span class="p">:</span> <span class="kt">LabelWithHint</span> <span class="o">=</span> <span class="kt">LabelWithHint</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">language</span><span class="p">:</span> <span class="kt">LabelWithHint</span> <span class="o">=</span> <span class="kt">LabelWithHint</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>

    <span class="kd">private</span> <span class="k">let</span> <span class="nv">playButton</span><span class="p">:</span> <span class="kt">PlayButton</span> <span class="o">=</span> <span class="kt">PlayButton</span><span class="p">()</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">stream</span><span class="p">:</span> <span class="kt">LiveStream</span><span class="p">?</span>

    <span class="k">var</span> <span class="nv">cellCallback</span><span class="p">:</span> <span class="p">((</span><span class="kt">LiveStream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">())?</span>

    <span class="kd">required</span> <span class="nf">init</span><span class="p">?(</span><span class="n">coder</span> <span class="nv">aDecoder</span><span class="p">:</span> <span class="kt">NSCoder</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">fatalError</span><span class="p">(</span><span class="s">"init(coder:) has not been implemented"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="o">.</span><span class="n">zero</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">createViews</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">Colors</span><span class="o">.</span><span class="n">lightBackground</span>
        <span class="k">self</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">15</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">createViews</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">// content removed to keep the example smaller</span>
      <span class="c1">// here only the visual setup happens</span>
    <span class="p">}</span>

    <span class="cm">/**
     Update the view after we received an update from the SDK that something changed,
     this could for example be the listener count etc.
     - Parameter stream: - the stream with the new information
     */</span>
    <span class="kd">func</span> <span class="nf">updateView</span><span class="p">(</span><span class="nv">stream</span><span class="p">:</span> <span class="kt">LiveStream</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="n">stream</span>
        <span class="k">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">streamer</span><span class="o">.</span><span class="n">login</span>
        <span class="k">self</span><span class="o">.</span><span class="n">streamDescription</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">title</span>

        <span class="k">self</span><span class="o">.</span><span class="n">listener</span><span class="o">.</span><span class="nf">updateValue</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="kt">String</span><span class="p">(</span><span class="n">stream</span><span class="o">.</span><span class="n">listeners</span><span class="p">))</span>
        <span class="k">self</span><span class="o">.</span><span class="n">genre</span><span class="o">.</span><span class="nf">updateValue</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="n">stream</span><span class="o">.</span><span class="n">genre</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="n">language</span><span class="o">.</span><span class="nf">updateValue</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="n">stream</span><span class="o">.</span><span class="n">language</span><span class="o">.</span><span class="n">native</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="kt">Mycrocast</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">sessionControl</span><span class="o">.</span><span class="nf">currentPlaying</span><span class="p">(</span><span class="nv">streamId</span><span class="p">:</span> <span class="n">stream</span><span class="o">.</span><span class="n">id</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="n">playButton</span><span class="o">.</span><span class="nf">playing</span><span class="p">()</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="n">playButton</span><span class="o">.</span><span class="nf">paused</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="k">let</span> <span class="nv">logo</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="nf">logo</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="n">logo</span><span class="o">.</span><span class="nf">downloaded</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="n">logo</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">onPlayUpdate</span><span class="p">(</span><span class="n">_</span> <span class="nv">state</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">stream</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">stream</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="p">{</span>
                <span class="kt">AppState</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">audioState</span><span class="o">.</span><span class="nf">play</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kt">AppState</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">audioState</span><span class="o">.</span><span class="nf">stop</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">onCellClicked</span><span class="p">(</span><span class="n">_</span> <span class="nv">gestureRecognizer</span><span class="p">:</span> <span class="kt">UITapGestureRecognizer</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">stream</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">stream</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">cellCallback</span><span class="p">?(</span><span class="n">stream</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2025 <a class="link" href="https://mycrocast.com" target="_blank" rel="external noopener">mycrocast Gmhb</a>. All rights reserved. (Last updated: 2025-03-21)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
