<!DOCTYPE html>
<html lang="en">
  <head>
    <title>What is a LiveStream  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="What is a LiveStream  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">MycrocastSDK Docs</a> (71% documented)</p>
        <div class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">MycrocastSDK Reference</a>
        <img id="carat" src="img/carat.png" alt=""/>
        What is a LiveStream  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Documentation.html">Documentation</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="overview.html">Overview</a>
              </li>
              <li class="nav-group-task">
                <a href="getting-started.html">Getting started</a>
              </li>
              <li class="nav-group-task">
                <a href="connecting-to-a-live-stream.html">Connecting to a live stream</a>
              </li>
              <li class="nav-group-task">
                <a href="what-is-a-livestream.html">What is a LiveStream</a>
              </li>
              <li class="nav-group-task">
                <a href="mycrocast---entry.html">Mycrocast - Entry</a>
              </li>
              <li class="nav-group-task">
                <a href="advertisement.html">Advertisement</a>
              </li>
              <li class="nav-group-task">
                <a href="how-to-chat.html">How to Chat</a>
              </li>
              <li class="nav-group-task">
                <a href="errors.html">Errors</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Example.html">Example</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="example-app-overview.html">Example App Overview</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app--audiosession---handling-a-stream.html">Example App  AudioSession - Handling a Stream</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app-playing-the-audio.html">Example App playing the audio</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app-livestreamcell.html">Example App LiveStreamCell</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app---advertisementbanner.html">Example App - AdvertisementBanner</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app---streamerview.html">Example App - StreamerView</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app---chat.html">Example App - Chat</a>
              </li>
              <li class="nav-group-task">
                <a href="example-app-viewcontroller.html">Example App ViewController</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Classes.html">Other Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Other%20Classes.html#/s:12MycrocastSDK18AudioPackageBufferC">AudioPackageBuffer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DelayTimeContainer.html">DelayTimeContainer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LiveScoringStream.html">LiveScoringStream</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LiveStream.html">LiveStream</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Mycrocast.html">Mycrocast</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MycrocastAdvertisement.html">MycrocastAdvertisement</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MycrocastAssetProvider.html">MycrocastAssetProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MycrocastError.html">MycrocastError</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Streamer.html">Streamer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Enums.html">Other Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/ChatStatus.html">ChatStatus</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ErrorType.html">ErrorType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/RatingError.html">RatingError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ReportReason.html">ReportReason</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Sender.html">Sender</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SessionState.html">SessionState</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/UserStreamRating.html">UserStreamRating</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Other%20Extensions.html#/AppKit">AppKit</a>
              </li>
              <li class="nav-group-task">
                <a href="Other%20Extensions.html#/DecodableDefault">DecodableDefault</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/AdvertisementDelegate.html">AdvertisementDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Advertisements.html">Advertisements</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Chat.html">Chat</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ChatDelegate.html">ChatDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ErrorReceiving.html">ErrorReceiving</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Rating.html">Rating</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SessionControl.html">SessionControl</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/StreamSessionDelegate.html">StreamSessionDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Streams.html">Streams</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/StreamsDelegate.html">StreamsDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Structs.html">Other Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/Message.html">Message</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/StreamLanguage.html">StreamLanguage</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Team.html">Team</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='ios-livestream' class='heading'>iOS - LiveStream</h1>

<p>This document describes the concepts of livestreams and how to receive and update them in the iOS SDK</p>

<p>Usage of Livestreams can be seen in the example app in the ViewController and StreamerView</p>
<h2 id='relevant-classes' class='heading'>Relevant classes</h2>

<ul>
<li><code><a href="Classes/LiveStream.html">LiveStream</a></code>- this class represents a single general live stream</li>
<li><code><a href="Classes/LiveScoringStream.html">LiveScoringStream</a></code>- extension of the LiveStream that has the additional information about the teams that are playing and the current score</li>
<li><code><a href="Protocols/Streams.html">Streams</a></code> - protocol to interact with to get the streams, register/unregister observer</li>
<li><code><a href="Protocols/StreamsDelegate.html">StreamsDelegate</a></code> - protocol to implement to receive updates for streams and to be registered as observer in the Streams protocol</li>
<li><code><a href="Structs/StreamLanguage.html">StreamLanguage</a></code>- the language the streamer selected during stream creation</li>
<li><code><a href="Enums/UserStreamRating.html">UserStreamRating</a></code> - enum indicating the current rating for the stream from the user</li>
<li><code><a href="Classes/Streamer.html">Streamer</a></code>- the streamer of the livestream</li>
<li><code><a href="Structs/Team.html">Team</a></code>- Part of the LiveScoringStream representing a team within a match with a name and a scoring</li>
</ul>
<h2 id='concepts' class='heading'>Concepts</h2>

<p>Receiving the streams and also registering for update/adding/removing is done through the Streams protocol.</p>
<h3 id='receiving-livestream-updates' class='heading'>Receiving LiveStream Updates</h3>

<p>To receive updates the first step is to create a class that conforms to the StreamsDelegate protocol</p>
<pre class="highlight plaintext"><code>/**
 Protocol to implement to receive updates for LiveStreams
 This needs to be registered in the Streams protocol to be called
 */
public protocol StreamsDelegate {
    /**
     A new streamer from your account went online
     - parameters:
      - stream: The new stream that has been added
    */
    func onStreamAdded(_ stream: LiveStream)

    /**
     Received an update for current stream, like listener count change ...
     - parameters:
        - stream: The updated stream
     */
    func onStreamUpdated(_ stream: LiveStream)

    /**
     A streamer went offline
     - Parameter stream: the stream that went offline
     */
    func onStreamRemoved(_ stream: LiveStream)
}
</code></pre>

<p>The next step is to register this class with the Streams protocol to be called when an update is received internally</p>
<pre class="highlight swift"><code><span class="kt">Mycrocast</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">streams</span><span class="o">.</span><span class="nf">addObserver</span><span class="p">(</span><span class="k">self</span><span class="p">)</span>
</code></pre>

<p>Not every interaction triggers a direct change. For example changes in the listener count are only propagated in fixed time intervals to reduce the load on the server. Same is true for rating a stream</p>
<h3 id='getting-the-current-livestreams' class='heading'>Getting the current LiveStreams</h3>

<p>There are 2 functions to receive the LiveStreams in the Streams protocol</p>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">Streams</span> <span class="p">{</span>
  <span class="c1">// other functions are removed for brevity</span>
    <span class="cm">/**
    Get the currently available streams

    - returns: List of currently available live streams
    */</span>
    <span class="kd">func</span> <span class="nf">getStreams</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">LiveStream</span><span class="p">]</span>

    <span class="cm">/**
     Request the currently live streams again from the server from your club
     This should not be used frequently, because normally calling play will return the current
     Streams and everything else is provided by update.
     In case of a short connection loss, of when the app was idle for a while this makes sense
     - Parameter callback: Function that is executed with the result of the request to the server
     */</span>
    <span class="kd">func</span> <span class="nf">requestStreams</span><span class="p">(</span><span class="n">_</span> <span class="nv">callback</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">([</span><span class="kt">LiveStream</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">())</span>
<span class="p">}</span>
</code></pre>

<p>The livestream updates are also stored internally in the SDK therefore it is most of the time sufficient to call getStreams() which just returns the internal state of the SDK. This can only occur as long as an internet connection is present.</p>

<p>When the connection was lost, or the app was in the background for a longer time it is better to use requestStreams to get the fresh state directly from the server.</p>
<h2 id='rating-a-stream' class='heading'>Rating a stream</h2>

<p>Users have the possibility to rate a stream. Providing a like or a dislike. If the user already provided a rating, sending the same rating will reset the rating to a neutral state. To provide better feedback for the streamer, a rating can only be applied if the user has started listening to the stream.</p>
<h3 id='relevant-classes' class='heading'>Relevant classes</h3>

<ul>
<li>Rating - Protocol to provide the rating functionality</li>
<li>RatingError - Error enum in case the rating failed.</li>
</ul>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">Rating</span> <span class="p">{</span>
    <span class="cm">/**
     Execute the like action for the stream identified by the provided id.
     A stream can only be rated after we at least listened to it once
     Liking a stream that we already have liked resets the rating to neutral

     - parameters:
        - streamId: The id of the stream we want to rate

     - returns: an optional RatingError if anything with the rating has not succeeded, see RatingError for more details
    */</span>
    <span class="kd">func</span> <span class="nf">like</span><span class="p">(</span><span class="nv">streamId</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">RatingError</span><span class="p">?</span>

    <span class="cm">/**
     Execute the dislike action for the stream identified by the provided id.
     A stream can only be rated after we at least listened to it once
     Liking a stream that we already have disliked resets the rating to neutral

     - parameters:
        - streamId: The id of the stream we want to rate

     - returns: an optional RatingError if anything with the rating has not succeeded, see RatingError for more details
     */</span>
    <span class="kd">func</span> <span class="nf">dislike</span><span class="p">(</span><span class="nv">streamId</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">RatingError</span><span class="p">?</span>
<span class="p">}</span>
</code></pre>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2025 <a class="link" href="https://mycrocast.com" target="_blank" rel="external noopener">mycrocast Gmhb</a>. All rights reserved. (Last updated: 2025-07-20)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
